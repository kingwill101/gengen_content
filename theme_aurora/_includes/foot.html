<footer class="aurora-footer">
  <div class="aurora-container aurora-footer__inner">
    <div>
      <h2>{{ site.title }}</h2>
      <p>Thoughts, stories, and curated media exploring technology and culture.</p>
    </div>
    <div class="aurora-footer__links">
      <a href="{{ "/" | relative_url }}">Home</a>
      <a href="{{ "/posts/" | relative_url }}">Archive</a>
      <a href="{{ "/about.html" | relative_url }}">About</a>
    </div>
    <div class="aurora-footer__meta">
      <p>&copy; {{ site.time | date: "yyyy" }} {{ site.title }}. All rights reserved.</p>
      {% if site.site.website %}
        <p><a href="{{ site.site.website }}">{{ site.site.website }}</a></p>
      {% elsif site.url %}
        <p><a href="{{ site.url }}">{{ site.url }}</a></p>
      {% endif %}
    </div>
  </div>
</footer>
<script>
  (function() {
    const toggle = document.querySelector('.aurora-nav__toggle');
    const nav = document.getElementById('primary-navigation');

    if (nav) {
      const normalize = (value) => {
        if (!value) return '/';
        const trimmed = value.replace(/\/+$/, '');
        return trimmed === '' ? '/' : trimmed;
      };

      const currentPath = normalize(window.location.pathname);
      nav.querySelectorAll('a[data-nav-url]').forEach((link) => {
        const target = normalize(link.getAttribute('data-nav-url'));
        if (currentPath === target || (target !== '/' && currentPath.startsWith(target))) {
          link.classList.add('is-active');
        }
      });
    }

    if (!toggle || !nav) return;

    toggle.addEventListener('click', function() {
      const expanded = this.getAttribute('aria-expanded') === 'true';
      this.setAttribute('aria-expanded', String(!expanded));
      nav.classList.toggle('is-open', !expanded);
      document.body.classList.toggle('aurora-nav-open', !expanded);
    });
  })();
</script>
